@startuml Package Diagram
!pragma layout smetana

' User Management Package
package "User Management" {
    [AuthenticationService]
    [UserProfileService]
    [CredentialsValidator]
    [UserController]
}

' Game Core Package
package "Game Core" {
    [GameManager]
    [GameFactory]
    [GameState]
    [GameController]
    [TimerService]
}

' Game Modes Package
package "Game Modes" {
    [MathGameModule]
    [SudokuGameModule]
    [PairMatchingGameModule]
    [AimTrainerGameModule]
}

' Statistics Package
package "Statistics" {
    [StatisticsTracker]
    [StatisticsView]
    [ScoreCalculator]
    [LeaderboardManager]
    [AccountScoreController]
}

' UI Package
package "UI Modules" {
    [LandingPageUI]
    [GameSelectionUI]
    [GameplayUI]
    [ResultsUI]
    [AccountSettingsUI]
    [StatisticsUI]
}

' Persistence Package
package "Persistence" {
    [ScoreRepository]
    [UserRepository]
    [StatisticsRepository]
    [GameSessionRepository]
    [DataAccessLayer]
}

' Relationships
UserRepository ..> AuthenticationService : authenticates
GameManager ..> GameFactory : creates games
GameManager ..> GameState : manages
GameController ..> GameManager : controls
StatisticsTracker ..> ScoreRepository : updates
StatisticsView ..> StatisticsRepository : retrieves
LeaderboardManager ..> ScoreRepository : manages scores
AccountScoreController ..> StatisticsRepository : fetches stats

' Cross-package dependencies
GameController ..> GameModes : manages
UI ..> GameController : interacts
StatisticsUI ..> AccountScoreController : retrieves stats
AccountSettingsUI ..> UserProfileService : manages

note right of "Game Modes" : Contains specific game \nimplementations and logic
note left of Persistence : Handles data storage \nand retrieval
note bottom of "UI Modules" : Manages user interfaces \nand interactions
@enduml